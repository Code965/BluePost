{"ast":null,"code":"var _jsxFileName = \"/home/oem/Desktop/Progetto2 (copia)/client/src/pages/CreatePost.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport '../Css/CreatePost.css';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { AuthContext } from '../helpers/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CreatePost() {\n  _s();\n  const {\n    authState\n  } = useContext(AuthContext);\n  let navigate = useNavigate();\n  //Questo mi serve per avere i valori che devo fornire tramite il modulo\n  const initialValues = {\n    title: '',\n    postText: ''\n  };\n\n  //mi controlla i vari campi\n  //string() perche` e` una stringa\n  //required() richiesto\n  //max e min valore massimo e minimo ammesso\n  const validationSchema = Yup.object().shape({\n    title: Yup.string().min(3).max(15).required(\"campo obbligatorio\"),\n    postText: Yup.string().required()\n  });\n\n  //mi invia i dati del modulo\n  const onSubmit = data => {\n    console.log(data);\n\n    //praticamente questa axios prende un oggetto che passa, ovvero data\n    axios.post('http://localhost:3002/posts/aggiungiPost', data, {\n      headers: {\n        accessToken: localStorage.getItem(\"Token\")\n      }\n    }).then(response => {\n      console.log(\"funziona\");\n    });\n  };\n  useEffect(() => {\n    if (!localStorage.getItem(\"Token\")) {\n      navigate('/login');\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      onSubmit: onSubmit,\n      validationSchema: validationSchema,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        className: \"boxRegistrazione flex-container align-center justify-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapContainer \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"barBox \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"titleBox flex-container justify-content\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Scrivi un post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            className: \"field\",\n            type: \"text\",\n            id: \"inputTitle\",\n            placeholder: \"Titolo\",\n            name: \"title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"title\",\n            component: \"span\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            className: \"field\",\n            type: \"textarea\",\n            id: \"inputPostText\",\n            placeholder: \"Corpo\",\n            name: \"postText\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"postText\",\n            component: \"span\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              children: [\"Crea\", /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"30\",\n                height: \"30\",\n                fill: \"black\",\n                class: \"bi bi-arrow-right-square-fill\",\n                viewBox: \"0 0 16 16\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(CreatePost, \"GG+iTc3+qvJdnwj1fnNYnj0BJBU=\", false, function () {\n  return [useNavigate];\n});\n_c = CreatePost;\nexport default CreatePost;\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"names":["React","useContext","useEffect","Formik","Form","Field","ErrorMessage","Yup","axios","AuthContext","useNavigate","CreatePost","authState","navigate","initialValues","title","postText","validationSchema","object","shape","string","min","max","required","onSubmit","data","console","log","post","headers","accessToken","localStorage","getItem","then","response"],"sources":["/home/oem/Desktop/Progetto2 (copia)/client/src/pages/CreatePost.jsx"],"sourcesContent":["import React, {useContext, useEffect} from 'react';\nimport '../Css/CreatePost.css'\nimport {Formik, Form, Field, ErrorMessage} from 'formik';\nimport * as Yup from 'yup'; \nimport axios from 'axios';\nimport {AuthContext} from '../helpers/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\n\nfunction CreatePost() {\n\n  const {authState} = useContext(AuthContext);\n  let navigate =  useNavigate();\n  //Questo mi serve per avere i valori che devo fornire tramite il modulo\n  const initialValues ={\n    title:'',\n    postText:'',\n  }; \n\n  //mi controlla i vari campi\n  //string() perche` e` una stringa\n  //required() richiesto\n  //max e min valore massimo e minimo ammesso\n  const validationSchema = Yup.object().shape({\n    title:Yup.string().min(3).max(15).required(\"campo obbligatorio\"),\n    postText: Yup.string().required(),\n\n  });\n\n  //mi invia i dati del modulo\n  const onSubmit = (data)=>{\n    console.log(data);\n\n    //praticamente questa axios prende un oggetto che passa, ovvero data\n    axios.post('http://localhost:3002/posts/aggiungiPost',data,{\n      headers:{accessToken:localStorage.getItem(\"Token\")}\n    }).then((response)=>{\n        console.log(\"funziona\");\n    });\n  }\n\n  useEffect(() => {\n\n    if(!localStorage.getItem(\"Token\")){\n      navigate('/login');\n    }\n   \n  }, [])\n  \n\n\n\n  return (\n    <div>\n    <Formik  initialValues={initialValues} onSubmit={onSubmit} validationSchema={validationSchema}>\n     \n      <Form className=\"boxRegistrazione flex-container align-center justify-content\"> \n      \n         \n          <div className='wrapContainer '>\n             <div className='barBox '>\n             </div>\n              <div className='titleBox flex-container justify-content'>\n                 <h1>Scrivi un post</h1>\n              </div>\n          \n              <Field className='field' type=\"text\" id=\"inputTitle\" placeholder=\"Titolo\" name=\"title\" />\n\n              <br/>\n              <ErrorMessage name=\"title\" component=\"span\"/>\n\n              <Field className='field' type=\"textarea\"  id=\"inputPostText\" placeholder=\"Corpo\" name=\"postText\" />\n\n              <br/>\n              <ErrorMessage name=\"postText\" component=\"span\"/>\n\n              <div>\n                <button>Crea\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"black\" class=\"bi bi-arrow-right-square-fill\" viewBox=\"0 0 16 16\">\n                    <path d=\"M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z\"/>\n                  </svg> \n                </button>      \n              </div>\n          </div>\n      </Form>\n    </Formik>\n\n</div>\n  )\n}\n\nexport default CreatePost\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}